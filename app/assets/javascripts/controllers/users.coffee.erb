controllers = angular.module('controllers')
controllers.controller('UsersController', ['$scope', '$routeParams', '$resource'
($scope, $routeParams, $resource) ->
    $scope.logoDomofera = '<%= image_path("official/logo.png") %>'

    User = $resource('/users/:userId', { userId: '@id', format: 'json'},
      {
        'save': {method: 'PUT'},
        'create': {method: 'POST'}
      }
    )

    # if $routeParams.userId
    #   User.get({userId: $routeParams.userId},
    #   ((user)-> $scope.user = user ),
    #   ((httpResponse)->
    #     $scope.user = null
    #     flash.error = "No existe el usuario."
    #     )
    #   )
    # else
    #   $scope.user = {}
    #   $scope.save = ->
    #     onError (_httpResponse)-> flash.error = "Algo salio mal"
    #     if $scope.user.id
    #       $scope.user.$save(
    #         (()-> $location.path("/users/#{"newUser.id"}")),
    #         onError
    #       )
])
